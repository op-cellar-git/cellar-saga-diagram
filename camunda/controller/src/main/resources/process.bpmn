<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" id="Definitions_0n58qhl" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.0.0">
  <bpmn:collaboration id="Collaboration_1wpufm0">
    <bpmn:participant id="Participant_1p59lfb" name="Asynchronous and stateless workflow" processRef="Process_0neapjn" />
  </bpmn:collaboration>
  <bpmn:process id="Process_0neapjn" isExecutable="true">
    <bpmn:serviceTask id="Activity_03hfewe" name="PrelockValidationBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:incoming>Flow_15qbxlq</bpmn:incoming>
      <bpmn:outgoing>Flow_0vzilqj</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1v0gw2v" name="LockBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:incoming>Flow_1fydfjq</bpmn:incoming>
      <bpmn:outgoing>Flow_0gy11y8</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_0gjwhkf" name="PostlockValidationBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:incoming>Flow_0zjpw3l</bpmn:incoming>
      <bpmn:outgoing>Flow_14m1qjl</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_11jv8eb" name="SnapshotValidationBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:incoming>Flow_1e74cff</bpmn:incoming>
      <bpmn:outgoing>Flow_0rgitr7</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_171x3ll" name="SnapshotIndexingBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:incoming>Flow_003knme</bpmn:incoming>
      <bpmn:outgoing>Flow_04auk45</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1f70l1t" name="SnapshotDatabaseBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:incoming>Flow_0sfs284</bpmn:incoming>
      <bpmn:outgoing>Flow_0vs50ee</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_06f3gwv">
      <bpmn:incoming>Flow_1wqcgk4</bpmn:incoming>
      <bpmn:outgoing>Flow_15qbxlq</bpmn:outgoing>
      <bpmn:outgoing>Flow_1fydfjq</bpmn:outgoing>
      <bpmn:outgoing>Flow_0s6ox12</bpmn:outgoing>
      <bpmn:outgoing>Flow_1kqnr6c</bpmn:outgoing>
      <bpmn:outgoing>Flow_0zjpw3l</bpmn:outgoing>
      <bpmn:outgoing>Flow_1e74cff</bpmn:outgoing>
      <bpmn:outgoing>Flow_15fkejg</bpmn:outgoing>
      <bpmn:outgoing>Flow_003knme</bpmn:outgoing>
      <bpmn:outgoing>Flow_0sfs284</bpmn:outgoing>
      <bpmn:outgoing>Flow_15pwuq7</bpmn:outgoing>
      <bpmn:outgoing>Flow_02sbjo6</bpmn:outgoing>
      <bpmn:outgoing>Flow_0j3rlcj</bpmn:outgoing>
      <bpmn:outgoing>Flow_1egsnls</bpmn:outgoing>
      <bpmn:outgoing>Flow_1xeduim</bpmn:outgoing>
      <bpmn:outgoing>Flow_1lano2r</bpmn:outgoing>
      <bpmn:outgoing>Flow_1we4sy8</bpmn:outgoing>
      <bpmn:outgoing>Flow_085f3p3</bpmn:outgoing>
      <bpmn:outgoing>Flow_0z31p5r</bpmn:outgoing>
      <bpmn:outgoing>Flow_0ftk8hz</bpmn:outgoing>
      <bpmn:outgoing>Flow_1xxclq8</bpmn:outgoing>
      <bpmn:outgoing>Flow_1p72zmv</bpmn:outgoing>
      <bpmn:outgoing>Flow_1xx9jau</bpmn:outgoing>
      <bpmn:outgoing>Flow_0mickha</bpmn:outgoing>
      <bpmn:outgoing>Flow_0sv0qo2</bpmn:outgoing>
      <bpmn:outgoing>Flow_1dhweot</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="Event_0cdig4h">
      <bpmn:incoming>Flow_0gy11y8</bpmn:incoming>
      <bpmn:incoming>Flow_0vzilqj</bpmn:incoming>
      <bpmn:incoming>Flow_14m1qjl</bpmn:incoming>
      <bpmn:incoming>Flow_0rgitr7</bpmn:incoming>
      <bpmn:incoming>Flow_0gn3vqw</bpmn:incoming>
      <bpmn:incoming>Flow_10j6di0</bpmn:incoming>
      <bpmn:incoming>Flow_0x7uuw2</bpmn:incoming>
      <bpmn:incoming>Flow_04auk45</bpmn:incoming>
      <bpmn:incoming>Flow_0vs50ee</bpmn:incoming>
      <bpmn:incoming>Flow_1sy4mn7</bpmn:incoming>
      <bpmn:incoming>Flow_18i96ur</bpmn:incoming>
      <bpmn:incoming>Flow_1fowpx7</bpmn:incoming>
      <bpmn:incoming>Flow_15e1i81</bpmn:incoming>
      <bpmn:incoming>Flow_0589yzc</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="Activity_1fqyys6" name="ConfigsBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:incoming>Flow_15pwuq7</bpmn:incoming>
      <bpmn:outgoing>Flow_1sy4mn7</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>Flow_01035yx</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_11ahv5d" messageRef="Message_1bcv3lz" />
    </bpmn:startEvent>
    <bpmn:serviceTask id="Activity_1m8s4sr" name="State retrieving" camunda:class="lu.op.cellar.sec.saga.logic.DatabaseRequestDelegate">
      <bpmn:incoming>Flow_01035yx</bpmn:incoming>
      <bpmn:outgoing>Flow_1wqcgk4</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1ofvr24" name="end" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:incoming>Flow_0s6ox12</bpmn:incoming>
      <bpmn:outgoing>Flow_0x7uuw2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_03ixj67" name="CleanUpBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:incoming>Flow_15fkejg</bpmn:incoming>
      <bpmn:incoming>Flow_0j3rlcj</bpmn:incoming>
      <bpmn:outgoing>Flow_10j6di0</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_0lh6yl2" name="UnlockBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:incoming>Flow_1kqnr6c</bpmn:incoming>
      <bpmn:incoming>Flow_02sbjo6</bpmn:incoming>
      <bpmn:incoming>Flow_085f3p3</bpmn:incoming>
      <bpmn:incoming>Flow_1dhweot</bpmn:incoming>
      <bpmn:outgoing>Flow_0gn3vqw</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_0lsm13h" name="IndexingBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:incoming>Flow_1we4sy8</bpmn:incoming>
      <bpmn:incoming>Flow_0z31p5r</bpmn:incoming>
      <bpmn:outgoing>Flow_0589yzc</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_047chna" name="CompensatingIndexingBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:incoming>Flow_0ftk8hz</bpmn:incoming>
      <bpmn:outgoing>Flow_0g1ydat</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1d4e1ul" name="CompensatingIngestBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="params">S3</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1p72zmv</bpmn:incoming>
      <bpmn:incoming>Flow_0mickha</bpmn:incoming>
      <bpmn:outgoing>Flow_1iwyz0p</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="Event_1mh938k">
      <bpmn:incoming>Flow_0ovckhd</bpmn:incoming>
      <bpmn:incoming>Flow_1iwyz0p</bpmn:incoming>
      <bpmn:incoming>Flow_0j7taxt</bpmn:incoming>
      <bpmn:incoming>Flow_0g1ydat</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="Activity_1marqna" name="IngestBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="params">VIRT</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1lano2r</bpmn:incoming>
      <bpmn:outgoing>Flow_15e1i81</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_0vd77gq" name="CompensatingIngestBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="params">ES</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1xxclq8</bpmn:incoming>
      <bpmn:outgoing>Flow_0ovckhd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1cc8mg8" name="CompensatingIngestBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="params">VIRT</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1xx9jau</bpmn:incoming>
      <bpmn:incoming>Flow_0sv0qo2</bpmn:incoming>
      <bpmn:outgoing>Flow_0j7taxt</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_0evme5v" name="IngestBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="params">S3</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1egsnls</bpmn:incoming>
      <bpmn:outgoing>Flow_18i96ur</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_0xpuvdb" name="IngestBegin" camunda:class="lu.op.cellar.sec.saga.logic.ProcessRequestDelegate">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="params">ES</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1xeduim</bpmn:incoming>
      <bpmn:outgoing>Flow_1fowpx7</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1kqnr6c" sourceRef="Gateway_06f3gwv" targetRef="Activity_0lh6yl2">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='Fail')&amp;&amp;(state==('PrelockValidationBegin'||'LockBegin'||'SnapshotValidationBegin'||'PostlockValidationBegin'||'SnapshotIndexationBegin'||'SnapshotDatabaseBegin'||'ConfigsBegin'))}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0s6ox12" sourceRef="Gateway_06f3gwv" targetRef="Activity_1ofvr24">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='CleanUpEnd')&amp;&amp;(state=='CleanUpBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1fydfjq" sourceRef="Gateway_06f3gwv" targetRef="Activity_1v0gw2v">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='PrelockValidationEnd')&amp;&amp;(state=='PrelockValidationBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_15qbxlq" sourceRef="Gateway_06f3gwv" targetRef="Activity_03hfewe">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${msg=='startup'}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1wqcgk4" sourceRef="Activity_1m8s4sr" targetRef="Gateway_06f3gwv" />
    <bpmn:sequenceFlow id="Flow_0gy11y8" sourceRef="Activity_1v0gw2v" targetRef="Event_0cdig4h" />
    <bpmn:sequenceFlow id="Flow_01035yx" sourceRef="StartEvent_1" targetRef="Activity_1m8s4sr" />
    <bpmn:sequenceFlow id="Flow_0vzilqj" sourceRef="Activity_03hfewe" targetRef="Event_0cdig4h" />
    <bpmn:sequenceFlow id="Flow_0zjpw3l" sourceRef="Gateway_06f3gwv" targetRef="Activity_0gjwhkf">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='SnapshotValidationEnd')&amp;&amp;(state=='SnapshotValidationBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_14m1qjl" sourceRef="Activity_0gjwhkf" targetRef="Event_0cdig4h" />
    <bpmn:sequenceFlow id="Flow_1e74cff" sourceRef="Gateway_06f3gwv" targetRef="Activity_11jv8eb">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='LockEnd')&amp;&amp;(state=='LockBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0rgitr7" sourceRef="Activity_11jv8eb" targetRef="Event_0cdig4h" />
    <bpmn:sequenceFlow id="Flow_0gn3vqw" sourceRef="Activity_0lh6yl2" targetRef="Event_0cdig4h" />
    <bpmn:sequenceFlow id="Flow_10j6di0" sourceRef="Activity_03ixj67" targetRef="Event_0cdig4h" />
    <bpmn:sequenceFlow id="Flow_0x7uuw2" sourceRef="Activity_1ofvr24" targetRef="Event_0cdig4h" />
    <bpmn:sequenceFlow id="Flow_15fkejg" sourceRef="Gateway_06f3gwv" targetRef="Activity_03ixj67">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='UnlockEnd')&amp;&amp;(state=='UnlockBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_003knme" sourceRef="Gateway_06f3gwv" targetRef="Activity_171x3ll">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='PostlockValidationEnd')&amp;&amp;(state=='PostlockValidationBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0sfs284" sourceRef="Gateway_06f3gwv" targetRef="Activity_1f70l1t">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='SnapshotIndexingEnd')&amp;&amp;(state=='SnapshotIndexingBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_04auk45" sourceRef="Activity_171x3ll" targetRef="Event_0cdig4h" />
    <bpmn:sequenceFlow id="Flow_0vs50ee" sourceRef="Activity_1f70l1t" targetRef="Event_0cdig4h" />
    <bpmn:sequenceFlow id="Flow_15pwuq7" sourceRef="Gateway_06f3gwv" targetRef="Activity_1fqyys6">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='SnapshotDatabaseEnd')&amp;&amp;(state=='SnapshotDatabaseBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1sy4mn7" sourceRef="Activity_1fqyys6" targetRef="Event_0cdig4h" />
    <bpmn:sequenceFlow id="Flow_02sbjo6" sourceRef="Gateway_06f3gwv" targetRef="Activity_0lh6yl2">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='Fail')&amp;&amp;(state=='UnlockBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0j3rlcj" sourceRef="Gateway_06f3gwv" targetRef="Activity_03ixj67">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='Fail')&amp;&amp;(state=='CleanUpBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_18i96ur" sourceRef="Activity_0evme5v" targetRef="Event_0cdig4h" />
    <bpmn:sequenceFlow id="Flow_1fowpx7" sourceRef="Activity_0xpuvdb" targetRef="Event_0cdig4h" />
    <bpmn:sequenceFlow id="Flow_1egsnls" sourceRef="Gateway_06f3gwv" targetRef="Activity_0evme5v">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='IngestEnd')&amp;&amp;(msg_params=='VIRT')&amp;&amp;(state=='IngestBegin')&amp;&amp;(state_params=='VIRT')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1xeduim" sourceRef="Gateway_06f3gwv" targetRef="Activity_0xpuvdb">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='IngestEnd')&amp;&amp;(msg_params=='S3')&amp;&amp;(state=='IngestBegin')&amp;&amp;(state_params=='S3')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1lano2r" sourceRef="Gateway_06f3gwv" targetRef="Activity_1marqna">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='ConfigsEnd')&amp;&amp;(state=='ConfigsBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_15e1i81" sourceRef="Activity_1marqna" targetRef="Event_0cdig4h" />
    <bpmn:sequenceFlow id="Flow_1we4sy8" sourceRef="Gateway_06f3gwv" targetRef="Activity_0lsm13h">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='IngestEnd')&amp;&amp;(msg_params=='ES')&amp;&amp;(state=='IngestBegin')&amp;&amp;(state_params=='ES')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0589yzc" sourceRef="Activity_0lsm13h" targetRef="Event_0cdig4h" />
    <bpmn:sequenceFlow id="Flow_085f3p3" sourceRef="Gateway_06f3gwv" targetRef="Activity_0lh6yl2">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='IndexingEnd')&amp;&amp;(state=='IndexingBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0z31p5r" sourceRef="Gateway_06f3gwv" targetRef="Activity_0lsm13h">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='Fail')&amp;&amp;(state=='IndexingBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0ovckhd" sourceRef="Activity_0vd77gq" targetRef="Event_1mh938k" />
    <bpmn:sequenceFlow id="Flow_1iwyz0p" sourceRef="Activity_1d4e1ul" targetRef="Event_1mh938k" />
    <bpmn:sequenceFlow id="Flow_0j7taxt" sourceRef="Activity_1cc8mg8" targetRef="Event_1mh938k" />
    <bpmn:sequenceFlow id="Flow_0g1ydat" sourceRef="Activity_047chna" targetRef="Event_1mh938k" />
    <bpmn:sequenceFlow id="Flow_0ftk8hz" sourceRef="Gateway_06f3gwv" targetRef="Activity_047chna">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='CompensatingIngestEnd')&amp;&amp;(msg_params=='ES')&amp;&amp;(state_params=='ES')&amp;&amp;(state=='CompensatingIngestBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1xxclq8" sourceRef="Gateway_06f3gwv" targetRef="Activity_0vd77gq">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='Fail')&amp;&amp;(state=='IngestBegin')&amp;&amp;(state_params=='ES')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1p72zmv" sourceRef="Gateway_06f3gwv" targetRef="Activity_1d4e1ul">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='Fail')&amp;&amp;(state=='IngestBegin')&amp;&amp;(state_params=='S3')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1xx9jau" sourceRef="Gateway_06f3gwv" targetRef="Activity_1cc8mg8">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='Fail')&amp;&amp;(state=='IngestBegin')&amp;&amp;(state_params=='VIRT')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0mickha" sourceRef="Gateway_06f3gwv" targetRef="Activity_1d4e1ul">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='CompensatingIndexingEnd')&amp;&amp;(state=='CompensatingIndexingBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0sv0qo2" sourceRef="Gateway_06f3gwv" targetRef="Activity_1cc8mg8">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='CompensatingIngestEnd')&amp;&amp;(msg_params=='S3')&amp;&amp;(state_params=='S3')&amp;&amp;(state=='CompensatingIngestBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1dhweot" sourceRef="Gateway_06f3gwv" targetRef="Activity_0lh6yl2">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${(msg=='CompensatingIngestEnd')&amp;&amp;(msg_params=='VIRT')&amp;&amp;(state_params=='VIRT')&amp;&amp;(state=='CompensatingIngestBegin')}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
  </bpmn:process>
  <bpmn:message id="Message_1bcv3lz" name="start" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1wpufm0">
      <bpmndi:BPMNShape id="Participant_1p59lfb_di" bpmnElement="Participant_1p59lfb" isHorizontal="true">
        <dc:Bounds x="152" y="80" width="898" height="1340" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1kqnr6c_di" bpmnElement="Flow_1kqnr6c">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="1210" />
        <di:waypoint x="640" y="1210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0s6ox12_di" bpmnElement="Flow_0s6ox12">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="1360" />
        <di:waypoint x="640" y="1360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1fydfjq_di" bpmnElement="Flow_1fydfjq">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="260" />
        <di:waypoint x="640" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15qbxlq_di" bpmnElement="Flow_15qbxlq">
        <di:waypoint x="545" y="170" />
        <di:waypoint x="640" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1wqcgk4_di" bpmnElement="Flow_1wqcgk4">
        <di:waypoint x="430" y="220" />
        <di:waypoint x="430" y="170" />
        <di:waypoint x="495" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0gy11y8_di" bpmnElement="Flow_0gy11y8">
        <di:waypoint x="740" y="260" />
        <di:waypoint x="850" y="260" />
        <di:waypoint x="850" y="188" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01035yx_di" bpmnElement="Flow_01035yx">
        <di:waypoint x="368" y="170" />
        <di:waypoint x="400" y="170" />
        <di:waypoint x="400" y="220" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0vzilqj_di" bpmnElement="Flow_0vzilqj">
        <di:waypoint x="740" y="170" />
        <di:waypoint x="832" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zjpw3l_di" bpmnElement="Flow_0zjpw3l">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="440" />
        <di:waypoint x="640" y="440" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_14m1qjl_di" bpmnElement="Flow_14m1qjl">
        <di:waypoint x="740" y="440" />
        <di:waypoint x="850" y="440" />
        <di:waypoint x="850" y="188" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1e74cff_di" bpmnElement="Flow_1e74cff">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="350" />
        <di:waypoint x="640" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rgitr7_di" bpmnElement="Flow_0rgitr7">
        <di:waypoint x="740" y="350" />
        <di:waypoint x="850" y="350" />
        <di:waypoint x="850" y="188" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0gn3vqw_di" bpmnElement="Flow_0gn3vqw">
        <di:waypoint x="740" y="1180" />
        <di:waypoint x="850" y="1180" />
        <di:waypoint x="850" y="188" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10j6di0_di" bpmnElement="Flow_10j6di0">
        <di:waypoint x="740" y="1270" />
        <di:waypoint x="850" y="1270" />
        <di:waypoint x="850" y="188" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0x7uuw2_di" bpmnElement="Flow_0x7uuw2">
        <di:waypoint x="740" y="1360" />
        <di:waypoint x="850" y="1360" />
        <di:waypoint x="850" y="188" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15fkejg_di" bpmnElement="Flow_15fkejg">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="1250" />
        <di:waypoint x="640" y="1250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_003knme_di" bpmnElement="Flow_003knme">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="530" />
        <di:waypoint x="640" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0sfs284_di" bpmnElement="Flow_0sfs284">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="620" />
        <di:waypoint x="640" y="620" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04auk45_di" bpmnElement="Flow_04auk45">
        <di:waypoint x="740" y="530" />
        <di:waypoint x="850" y="530" />
        <di:waypoint x="850" y="188" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0vs50ee_di" bpmnElement="Flow_0vs50ee">
        <di:waypoint x="740" y="620" />
        <di:waypoint x="850" y="620" />
        <di:waypoint x="850" y="188" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15pwuq7_di" bpmnElement="Flow_15pwuq7">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="710" />
        <di:waypoint x="640" y="710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1sy4mn7_di" bpmnElement="Flow_1sy4mn7">
        <di:waypoint x="740" y="710" />
        <di:waypoint x="850" y="710" />
        <di:waypoint x="850" y="188" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02sbjo6_di" bpmnElement="Flow_02sbjo6">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="1190" />
        <di:waypoint x="640" y="1190" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0j3rlcj_di" bpmnElement="Flow_0j3rlcj">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="1290" />
        <di:waypoint x="640" y="1290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18i96ur_di" bpmnElement="Flow_18i96ur">
        <di:waypoint x="740" y="890" />
        <di:waypoint x="850" y="890" />
        <di:waypoint x="850" y="188" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1fowpx7_di" bpmnElement="Flow_1fowpx7">
        <di:waypoint x="740" y="980" />
        <di:waypoint x="850" y="980" />
        <di:waypoint x="850" y="188" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1egsnls_di" bpmnElement="Flow_1egsnls">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="890" />
        <di:waypoint x="640" y="890" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1xeduim_di" bpmnElement="Flow_1xeduim">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="980" />
        <di:waypoint x="640" y="980" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1lano2r_di" bpmnElement="Flow_1lano2r">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="800" />
        <di:waypoint x="640" y="800" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15e1i81_di" bpmnElement="Flow_15e1i81">
        <di:waypoint x="740" y="800" />
        <di:waypoint x="850" y="800" />
        <di:waypoint x="850" y="188" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1we4sy8_di" bpmnElement="Flow_1we4sy8">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="1050" />
        <di:waypoint x="640" y="1050" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0589yzc_di" bpmnElement="Flow_0589yzc">
        <di:waypoint x="740" y="1070" />
        <di:waypoint x="850" y="1070" />
        <di:waypoint x="850" y="188" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_085f3p3_di" bpmnElement="Flow_085f3p3">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="1170" />
        <di:waypoint x="640" y="1170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0z31p5r_di" bpmnElement="Flow_0z31p5r">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="1090" />
        <di:waypoint x="640" y="1090" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ovckhd_di" bpmnElement="Flow_0ovckhd">
        <di:waypoint x="350" y="980" />
        <di:waypoint x="290" y="980" />
        <di:waypoint x="290" y="818" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1iwyz0p_di" bpmnElement="Flow_1iwyz0p">
        <di:waypoint x="350" y="890" />
        <di:waypoint x="290" y="890" />
        <di:waypoint x="290" y="818" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0j7taxt_di" bpmnElement="Flow_0j7taxt">
        <di:waypoint x="350" y="800" />
        <di:waypoint x="308" y="800" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0g1ydat_di" bpmnElement="Flow_0g1ydat">
        <di:waypoint x="350" y="1070" />
        <di:waypoint x="290" y="1070" />
        <di:waypoint x="290" y="818" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ftk8hz_di" bpmnElement="Flow_0ftk8hz">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="1070" />
        <di:waypoint x="450" y="1070" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1xxclq8_di" bpmnElement="Flow_1xxclq8">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="980" />
        <di:waypoint x="450" y="980" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1p72zmv_di" bpmnElement="Flow_1p72zmv">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="890" />
        <di:waypoint x="450" y="890" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1xx9jau_di" bpmnElement="Flow_1xx9jau">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="800" />
        <di:waypoint x="450" y="800" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0mickha_di" bpmnElement="Flow_0mickha">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="870" />
        <di:waypoint x="450" y="870" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0sv0qo2_di" bpmnElement="Flow_0sv0qo2">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="780" />
        <di:waypoint x="450" y="780" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dhweot_di" bpmnElement="Flow_1dhweot">
        <di:waypoint x="520" y="195" />
        <di:waypoint x="520" y="1150" />
        <di:waypoint x="640" y="1150" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_0klfoya_di" bpmnElement="Activity_03hfewe">
        <dc:Bounds x="640" y="130" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0van1nc_di" bpmnElement="Activity_1v0gw2v">
        <dc:Bounds x="640" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0f8ys1h_di" bpmnElement="Activity_0gjwhkf">
        <dc:Bounds x="640" y="400" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0mgns2n_di" bpmnElement="Activity_11jv8eb">
        <dc:Bounds x="640" y="310" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_097pka7_di" bpmnElement="Activity_171x3ll">
        <dc:Bounds x="640" y="490" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1f70l1t_di" bpmnElement="Activity_1f70l1t">
        <dc:Bounds x="640" y="580" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_06f3gwv_di" bpmnElement="Gateway_06f3gwv" isMarkerVisible="true">
        <dc:Bounds x="495" y="145" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0cdig4h_di" bpmnElement="Event_0cdig4h">
        <dc:Bounds x="832" y="152" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1fqyys6_di" bpmnElement="Activity_1fqyys6">
        <dc:Bounds x="640" y="670" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0jalkvs_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="332" y="152" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0hyox38_di" bpmnElement="Activity_1m8s4sr" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="360" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0vvm3iu_di" bpmnElement="Activity_1ofvr24" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <dc:Bounds x="640" y="1320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_03ixj67_di" bpmnElement="Activity_03ixj67" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <dc:Bounds x="640" y="1230" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1b4p11y_di" bpmnElement="Activity_0lh6yl2" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <dc:Bounds x="640" y="1140" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0emuqf6_di" bpmnElement="Activity_0lsm13h">
        <dc:Bounds x="640" y="1030" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_16rur9s_di" bpmnElement="Activity_047chna" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="350" y="1030" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1d4e1ul_di" bpmnElement="Activity_1d4e1ul" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="350" y="850" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1mh938k_di" bpmnElement="Event_1mh938k">
        <dc:Bounds x="272" y="782" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0e2x9us_di" bpmnElement="Activity_1marqna">
        <dc:Bounds x="640" y="760" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0vd77gq_di" bpmnElement="Activity_0vd77gq" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="350" y="940" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1cc8mg8_di" bpmnElement="Activity_1cc8mg8" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="350" y="760" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_10i7fp5_di" bpmnElement="Activity_0evme5v">
        <dc:Bounds x="640" y="850" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0udberm_di" bpmnElement="Activity_0xpuvdb">
        <dc:Bounds x="640" y="940" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
